<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<title>计科书斋</title>
	<link rel="stylesheet" href="../static/plugins/bootstrap-3.4.1-dist/css/bootstrap.min.css" th:href="@{/plugins/bootstrap-3.4.1-dist/css/bootstrap.min.css}">
	<link href="../static/css/topBar.css" type="text/css" rel="stylesheet" th:href="@{/css/topBar.css}"/>
	<link href="../static/css/list.css" th:href="@{/css/list.css}" type="text/css" rel="stylesheet"/>
	<link href="../static/css/table.css" th:href="@{/css/table.css}" type="text/css" rel="stylesheet"/>
	<script type="text/javascript" src="../static/plugins/bootstrap-3.4.1-dist/js/jquery-3.6.0.min.js" th:src="@{/plugins/bootstrap-3.4.1-dist/js/jquery-3.6.0.min.js}"></script>
	<script type="text/javascript" src="../static/plugins/bootstrap-3.4.1-dist/js/bootstrap.min.js" th:src="@{/plugins/bootstrap-3.4.1-dist/js/bootstrap.min.js}"></script>
</head>
<body>
<!-- 顶部栏 -->
<div class="topBar"><a href="index.html" th:href="@{/index}"><i class="iconfont" >&#xe61b;</i>OBMS</a></div>
<div class="jiaocai">
	<div class="dropdown">
		<button class="btn" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			教材分类
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
			<div class="dropdownfont">
				<div><a href="index.html?sno=1" th:href="@{/user/book_sort?sno=1}">大一上</a></div>
				<div><a href="index.html?sno=2" th:href="@{/user/book_sort?sno=2}">大一下</a></div>
				<div><a href="index.html?sno=3" th:href="@{/user/book_sort?sno=3}">大二上</a></div>
				<div><a href="index.html?sno=4" th:href="@{/user/book_sort?sno=4}">大二下</a></div>
				<div><a href="index.html?sno=5" th:href="@{/user/book_sort?sno=5}">大三上</a></div>
				<div><a href="index.html?sno=6" th:href="@{/user/book_sort?sno=6}">大三下</a></div>
				<div><a href="index.html?sno=7" th:href="@{/user/book_sort?sno=7}">大四上</a></div>
				<div><a href="index.html?sno=8" th:href="@{/user/book_sort?sno=8}">大四下</a></div>
				<div><a href="index.html?sno=9" th:href="@{/user/book_sort?sno=9}">其他书籍</a></div>
			</div>
		</ul>
	</div>
</div>
<div class="login">
	<div class="dropdown">
		<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			我的账户
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
			<li><a href="publishBook.html" th:href="@{/toPublishBook}">发布书籍</a></li>
			<li><a href="mypublishbook.html" th:href="@{/toMyPublishBook}">我发布的书籍</a></li>
			<li><a href="want.html" th:href="@{/toMyWantBook}">我收藏的书籍</a></li>
			<li><a href="customHonesty.html" th:href="@{/toCustomHonesty}">用户信誉</a></li>
			<li><a href="denglu.html" th:href="@{/}">登出</a></li>
		</ul>
	</div>
</div>

<!-- 内容详情 -->
<!-- 标题 -->
<div class="box-hd">
	<br>
</div>

<div id="main">
	<table class="table">
		<thead>
		<tr>
			<th>书籍名称</th>
			<th>发布时间</th>
			<th>书籍价格</th>
			<th>书籍信息</th>
			<th>联系电话</th>
			<th>收藏书籍</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="books : ${getBookByGrade1}" style="background-color: #a13e26;color: aliceblue;">
			<th th:text="${books.bname}">书籍名称</th>
			<th th:text="${books.createtime}">发布时间</th>
			<th th:text="${books.bprice}">书籍价格</th>
			<th th:text="${books.bdescribe}">书籍信息</th>
			<th th:text="${books.bname}">联系电话</th>
			<td><a th:href="@{/user/add_want(bno=${books.bno})}">收藏</a></td>
		</tr>
		</tbody>
	</table>
<!--	<nav aria-label="Page navigation">-->
<!--		<ul class="pagination">-->
<!--			<li id="pre">-->
<!--				<a href="#" aria-label="Previous">-->
<!--					<span aria-hidden="true">&laquo;</span>-->
<!--				</a>-->
<!--			</li>-->
<!--		</ul>-->
<!--	</nav>-->
</div>
</body>

<!--<script>-->
<!--	var table = document.querySelector("table")-->

<!--	var ul = document.querySelector(".pagination");-->
<!--	var page_number = 5; //单页浏览的条数-->
<!--	var Total_pages; //页数-->
<!--	var liAll; //页码按钮下标为 1到length-2是页数 0和length-1为上一页和下一页-->
<!--	var pre; //上一页-->
<!--	var next; //下一页-->

<!--	function clearTable() {-->
<!--		table.innerHTML = `-->
<!--        <tbody>-->
<!--             <tr style="background-color: #a13e26;color: aliceblue;">-->
<!--                <th>书籍名称</th>-->
<!--				<th>书籍价格</th>-->
<!--				<th>书籍图片</th>-->
<!--            </tr>-->
<!--        </tbody>-->
<!--        `-->
<!--	}-->
<!--	window.onload = function() {-->
<!--		json.forEach(function(item, i) {-->
<!--			var tbody = document.querySelector("tbody");-->
<!--			if (i < page_number) {-->
<!--				var tr = document.createElement("tr");-->
<!--				tr.innerHTML = `-->
<!--                            <td>${item.bname}</td>-->
<!--                            <td>${item.bprice}</td>-->
<!--                            <td>${item.imgurl}</td>-->
<!--                            `-->
<!--				tbody.appendChild(tr);-->
<!--			}-->
<!--		});-->

<!--		var len = json.length; //总记录条数-->

<!--		Total_pages = len % page_number == 0 ? len / page_number : len / page_number + 1; //页数-->

<!--		for (var i = 1; i <= Total_pages; i++) {-->
<!--			ul.innerHTML += `-->
<!--            <li  id="${i}"><a href="#">${i}</a></li>-->
<!--            `-->
<!--		}-->

<!--		ul.innerHTML += `-->
<!--                <li class="next_li">-->
<!--                    <a href="#" aria-label="Next">-->
<!--                        <span aria-hidden="true">&raquo;</span>-->
<!--                    </a>-->
<!--                </li>-->
<!--        `;-->

<!--		liAll = document.querySelectorAll("li");-->
<!--		liAll[1].childNodes[0].style.color = "red"; //初始第一页页码是红的-->
<!--		// console.log([liAll])-->
<!--		var pagethis = 1; //当前是第几页-->
<!--		for (var i = 1; i < liAll.length - 1; i++) {-->
<!--			liAll[i].onclick = function() {-->
<!--				for (var j = 1; j < liAll.length - 1; j++) {-->
<!--					liAll[j].childNodes[0].style.color = "blue"-->
<!--				}-->
<!--				pagethis = this.id; //获取当前是第几页-->
<!--				liAll[pagethis].childNodes[0].style.color = "red";-->
<!--				// console.log(liAll[i])-->
<!--				let start; //当页数据的起始下标-->
<!--				let end; //当页数据的结束下标-->
<!--				if (pagethis != 1) {-->
<!--					start = (pagethis - 1) * page_number;-->
<!--					end = start + page_number;-->
<!--					if (end > json.length - 1) { //如果当页数据结束值大于总数据条数下标的值则赋值为总数据条数最大下标值-->
<!--						end = json.length - 1;-->
<!--					}-->
<!--				} else {-->
<!--					start = 0;-->
<!--					end = page_number - 1;-->
<!--				}-->
<!--				// console.log("start=" + start)-->
<!--				// console.log("end=" + end)-->
<!--				clearTable();-->
<!--				var tbody = document.querySelector("tbody");-->
<!--				json.forEach(function(item, i) {-->

<!--					if (i >= start && i <= end) {-->
<!--						var tr = document.createElement("tr");-->
<!--						tr.innerHTML = `-->
<!--                            <td>${item.bname}</td>-->
<!--                            <td>${item.bprice}</td>-->
<!--                            <td>${item.imgurl}</td>-->
<!--                            `-->
<!--						tbody.appendChild(tr);-->
<!--					}-->
<!--				})-->

<!--			}-->
<!--		}-->
<!--		pre = document.querySelector("#pre") //上一页-->
<!--		next = document.querySelector("#next") //下一页-->
<!--		pre.onclick = function() {-->
<!--			// alert(pagethis)-->
<!--			if (pagethis != 1) { //当前页数不等于1时执行上一页-->
<!--				pagethis&#45;&#45;;-->
<!--				for (var j = 1; j < liAll.length - 1; j++) {-->
<!--					liAll[j].childNodes[0].style.color = "blue"-->
<!--				}-->
<!--				liAll[pagethis].childNodes[0].style.color = "red";-->
<!--				let start;-->
<!--				let end;-->
<!--				if (pagethis != 1) {-->
<!--					start = (pagethis - 1) * page_number;-->
<!--					end = start + page_number;-->
<!--					if (end > json.length - 1) {-->
<!--						end = json.length - 1;-->
<!--					}-->
<!--				} else {-->
<!--					start = 0;-->
<!--					end = page_number - 1;-->
<!--				}-->

<!--				clearTable();-->
<!--				var tbody = document.querySelector("tbody");-->
<!--				json.forEach(function(item, i) {-->
<!--					if (i >= start && i <= end) {-->
<!--						var tr = document.createElement("tr");-->
<!--						tr.innerHTML = `-->
<!--                            <td>${item.bname}</td>-->
<!--                            <td>${item.bprice}</td>-->
<!--                            <td>${item.imgurl}</td>-->
<!--                            `-->
<!--						console.log(tr)-->
<!--						tbody.appendChild(tr);-->
<!--					}-->
<!--				})-->
<!--			}-->
<!--		}-->
<!--		next.onclick = function() {-->
<!--			// alert(pagethis)-->
<!--			if (pagethis < liAll.length - 2) { //当前页数小于最后一页则执行下一页-->
<!--				pagethis++;-->
<!--				for (var j = 1; j < liAll.length - 1; j++) {-->
<!--					liAll[j].childNodes[0].style.color = "blue"-->
<!--				}-->
<!--				liAll[pagethis].childNodes[0].style.color = "red";-->
<!--				let start;-->
<!--				let end;-->
<!--				if (pagethis != 1) {-->
<!--					start = (pagethis - 1) * page_number;-->
<!--					end = start + page_number;-->
<!--					if (end > json.length - 1) {-->
<!--						end = json.length - 1;-->
<!--					}-->
<!--				} else {-->
<!--					start = 0;-->
<!--					end = page_number - 1;-->
<!--				}-->

<!--				clearTable();-->
<!--				var tbody = document.querySelector("tbody");-->
<!--				json.forEach(function(item, i) {-->
<!--					if (i >= start && i <= end) {-->
<!--						var tr = document.createElement("tr");-->
<!--						tr.innerHTML = `-->
<!--                            <td>${item.banme}</td>-->
<!--                            <td>${item.bprice}</td>-->
<!--                            <td>${item.imgurl}</td>-->
<!--                            `-->
<!--						console.log(tr)-->
<!--						tbody.appendChild(tr);-->
<!--					}-->
<!--				})-->
<!--			}-->
<!--		}-->
<!--	}-->
<!--</script>-->
</html>
